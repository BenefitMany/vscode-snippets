{
  "bmNewVueCommonTableFile": {
    "prefix": "bmVueCommonTableFile",
    "body": [
      "<template>",
      "  <div class=\"card\">",
      "    <app-common-table",
      "      :table-name=\"'${1:tableCollectionNonPlural}s'\"",
      "      :columns=\"tableColumns\"",
      "      :data=\"${2:tableCollectionData}s\"",
      "      :meta=\"meta\"",
      "      :show-card-class=\"false\"",
      "      :show-new-icon-button=\"{display: true, icon: 'fa fa-plus'}\"",
      "      :show-new-button=\"false\"",
      "      :show-search-filter=\"false\"",
      "      :state-change-callback=\"updateTable\"",
      "      :new-entry-callback=\"new${1:tableCollectionNonPlural}\"",
      "      :edit-entry-callback=\"edit${1:tableCollectionNonPlural}\"",
      "      :remove-entry-callback=\"remove${1:tableCollectionNonPlural}\"/>",
      "  </div>",
      "</template>",
      "",
      "<script>",
      "import CommonTable from '@shared/common_table.vue'",
      "import Mixins from '@utilities/mixin.js'",
      "",
      "export default {",
      "  components: {",
      "    'app-common-table': CommonTable",
      "  },",
      "  mixins: [Mixins],",
      "  data: function () {",
      "    return {",
      "      tableColumns: [",
      "        { column: 'name', display: '${2:tableCollectionData}' },",
      "        { column: 'showOnDownlines', display: 'downlines', formatters: ['booleanYesNo'] },",
      "        'lastImportedOn',",
      "        { column: 'options', rowOptions: true, sortable: false }",
      "      ],",
      "      ${2:tableCollectionData}s: [],",
      "      meta: {},",
      "      tableParams: { page: 1, perPage: 25, search: '', sort: null, order: null }",
      "    }",
      "  },",
      "",
      "  created () {",
      "    this.list${1:tableCollectionNonPlural}s()",
      "  },",
      "  methods: {",
      "    updateTable () {",
      "      this.tableParams = {",
      "        page: this.meta.page,",
      "        perPage: this.meta.perPage,",
      "        search: this.meta.search,",
      "        sort: this.meta.sort,",
      "        order: this.meta.order",
      "      }",
      "      this.list${1:tableCollectionNonPlural}s()",
      "    },",
      "",
      "    new${1:tableCollectionNonPlural} () {",
      "      this.\\$router.push({ name: '${2:tableCollectionData}New' })",
      "    },",
      "",
      "    edit${1:tableCollectionNonPlural} (${2:tableCollectionData}) {",
      "      this.\\$router.push({ name: '${2:tableCollectionData}Edit', params: { id: ${2:tableCollectionData}.id }})",
      "    },",
      "",
      "    remove${1:tableCollectionNonPlural} (${2:tableCollectionData}) {",
      "      this.\\$http.delete('/api/${2:tableCollectionData}s/' + ${2:tableCollectionData}.id).then(() => {",
      "        this.list${1:tableCollectionNonPlural}s()",
      "      }, (responseError) => {",
      "        this.appendError({error: responseError.body.error})",
      "      })",
      "    },",
      "",
      "    list${1:tableCollectionNonPlural}s () {",
      "      this.\\$http.get('/api/${2:tableCollectionData}s', { params: this.tableParams }).then((result) => {",
      "        this.${2:tableCollectionData}s = result.body.${2:tableCollectionData}s",
      "        this.meta = result.body.meta",
      "      }, (responseError) => {",
      "        this.appendError({error: responseError.body.error})",
      "      })",
      "    }",
      "  }",
      "}",
      "</script>",
      "",
      "<style scoped>",
      "</style>",
      ""
    ],
    "description": "newVueCommonTableFile"
  }
}